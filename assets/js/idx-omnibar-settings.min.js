window.addEventListener("DOMContentLoaded",function(){function e(){if("undefined"!=typeof document.querySelectorAll(".city-list")[0]){var e=jQuery(".city-list select").val(),o=jQuery(".county-list select").val(),n=jQuery(".zipcode-list select").val();jQuery.post(ajaxurl,{action:"idx_update_omnibar_current_ccz","city-list":e,"county-list":o,"zipcode-list":n},function(){t()})}}function t(){var e=document.querySelectorAll(".omnibar-additional-custom-field")[0];if(void 0!==e.options){for(var t=[],o=0;o<e.options.length;o++)if(e.options[o].selected){var n=e.options[o].parentNode.classList[0],i=e.options[o].value,l=e.options[o].label,a=e.options[o].getAttribute("data-mlsptid"),s={idxID:n,value:i,mlsPtID:a,name:l};t.push(s)}a=document.querySelectorAll(".omnibar-mlsPtID");for(var r=[],o=0;o<a.length;o++){var n=a[o].name,i=a[o].value,c={idxID:n,mlsPtID:i};r.push(c)}var d=document.querySelectorAll(".omnibar-placeholder")[0].value;jQuery.post(ajaxurl,{action:"idx_update_omnibar_custom_fields",fields:t,mlsPtIDs:r,placeholder:d},function(){window.location.reload()})}}"undefined"!=typeof loadOmnibarView&&jQuery.post(ajaxurl,{action:"idx_preload_omnibar_settings_view"},function(){window.location.reload()}),jQuery(".select2").select2({maximumSelectionLength:10,placeholder:"Select Up to Ten Fields"});var o=document.querySelectorAll("#save_changes")[0],n="<span class='ajax'></span>";"undefined"!=typeof o&&o.addEventListener("click",function(t){t.preventDefault(),jQuery(".status").fadeIn("fast").html(n+"Saving Settings..."),e()})});