window.addEventListener("DOMContentLoaded",function(){function e(){if("undefined"!=typeof document.querySelectorAll(".city-list")[0]){var e=jQuery(".city-list select").val(),o=jQuery(".county-list select").val(),i=jQuery(".zipcode-list select").val();jQuery.post(ajaxurl,{action:"idx_update_omnibar_current_ccz","city-list":e,"county-list":o,"zipcode-list":i},function(){t()})}}function t(){var e=document.querySelectorAll(".omnibar-additional-custom-field")[0];if(void 0!==e.options){for(var t=[],o=0;o<e.options.length;o++)if(e.options[o].selected){var i=e.options[o].parentNode.classList[0],l=e.options[o].value,n=e.options[o].label,a=e.options[o].getAttribute("data-mlsptid"),r={idxID:i,value:l,mlsPtID:a,name:n};t.push(r)}a=document.querySelectorAll(".omnibar-mlsPtID");for(var c=[],o=0;o<a.length;o++){var i=a[o].name,l=a[o].value,d={idxID:i,mlsPtID:l};c.push(d)}var u=document.querySelectorAll(".omnibar-placeholder")[0].value;jQuery.post(ajaxurl,{action:"idx_update_omnibar_custom_fields",fields:t,mlsPtIDs:c,placeholder:u},function(){window.location.reload()})}}"undefined"!=typeof loadOmnibarView&&jQuery.post(ajaxurl,{action:"idx_preload_omnibar_settings_view"},function(){window.location.reload()}),jQuery(".select2").select2({maximumSelectionLength:10,placeholder:"Select Up to Ten Fields"});var o=document.querySelectorAll("#save_changes")[0];"undefined"!=typeof o&&o.addEventListener("click",function(t){t.preventDefault(),e()})});