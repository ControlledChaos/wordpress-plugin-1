window.addEventListener("load",function(){function e(){var e=n.checked;return e===!0?"month":"day"}function t(){c.style.display="block",y.style.display="none",u.style.opacity=0,jQuery.post(ajaxurl,{action:"idx_dashboard_leads",timeframe:e()}).done(function(e){"No Leads Returned"===e&&(document.querySelector(".leads-overview").innerHTML=e);var t=google.visualization.arrayToDataTable(JSON.parse(e)),a={title:"Lead Statistics",hAxis:{title:"Date",titleTextStyle:{color:"#333"}},vAxis:{minValue:0},animation:{startup:!0,duration:500}},i=new google.visualization.AreaChart(document.querySelector(".leads-overview"));return i.draw(t,a),u.style.display="block",u.style.opacity=1,c.style.display="none"})}function a(){google.charts.setOnLoadCallback(t)}function i(){google.charts.load("current",{packages:["corechart"]}),r(),a()}function d(e){e.preventDefault(),l.classList.remove("button-primary"),l.disabled="disabled",s.disabled=!1,s.classList.add("button-primary"),getListings()}function o(e){e.preventDefault(),s.classList.remove("button-primary"),s.disabled="disabled",s.disabled=!0,l.classList.add("button-primary"),a()}function r(){n.addEventListener("change",a),l.addEventListener("click",d),s.addEventListener("click",o)}var n=document.querySelector("#idx_dashboard_widget #timeframeswitch"),s=document.querySelector("#idx_dashboard_widget .leads"),l=document.querySelector("#idx_dashboard_widget .listings"),c=document.querySelector(".idx-loader"),u=document.querySelector("#idx_dashboard_widget .leads-overview"),y=document.querySelector("#idx_dashboard_widget .listings-overview");i()});