window.addEventListener("load",function(){function e(){var e=c.checked;return e===!0?"month":"day"}function t(){p.style.display="block",v.style.display="none",g.style.display="block",g.style.opacity=0,jQuery.post(ajaxurl,{action:"idx_dashboard_leads",timeframe:e()}).done(function(e){if("No Leads Returned"===e)return p.style.display="none",g.style.opacity=1,g.innerHTML=e;var t=google.visualization.arrayToDataTable(JSON.parse(e)),a={title:"Lead Statistics",hAxis:{title:"Date",titleTextStyle:{color:"#333"}},vAxis:{minValue:0},animation:{startup:!0,duration:500}},i=new google.visualization.AreaChart(document.querySelector(".leads-overview"));return i.draw(t,a),g.style.display="block",g.style.opacity=1,p.style.display="none"})}function a(){p.style.display="block",g.style.display="none",v.style.display="block",v.style.opacity=0,jQuery.post(ajaxurl,{action:"idx_dashboard_listings",timeframe:e()}).done(function(e){if("No Listings Returned"===e)return p.style.display="none",v.style.opacity=1,document.querySelector(".listings-overview").innerHTML=e;var t=google.visualization.arrayToDataTable(JSON.parse(e)),a={title:"Listing Statistics",pieHole:.4,animation:{startup:!0,duration:500}},i=new google.visualization.PieChart(document.querySelector(".listings-overview"));return i.draw(t,a),v.style.display="block",v.style.opacity=1,p.style.display="none"})}function i(){google.charts.setOnLoadCallback(t)}function o(){google.charts.setOnLoadCallback(a)}function n(){google.charts.load("current",{packages:["corechart"]}),d(),i()}function s(e){e.preventDefault(),y.classList.remove("button-primary"),y.disabled=!0,u.disabled=!1,u.classList.add("button-primary"),o()}function l(e){e.preventDefault(),u.classList.remove("button-primary"),u.disabled=!0,y.disabled=!1,y.classList.add("button-primary"),i()}function r(){u.disabled===!0?i():o()}function d(){c.addEventListener("change",r),y.addEventListener("click",s),u.addEventListener("click",l)}var c=document.querySelector("#idx_dashboard_widget #timeframeswitch"),u=document.querySelector("#idx_dashboard_widget .leads"),y=document.querySelector("#idx_dashboard_widget .listings"),p=document.querySelector(".idx-loader"),g=document.querySelector("#idx_dashboard_widget .leads-overview"),v=document.querySelector("#idx_dashboard_widget .listings-overview");n()});